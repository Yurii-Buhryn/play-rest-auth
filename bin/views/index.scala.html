@(message: String)

@main(message) {

	<label for="emailAddress">Email : </label>
	<input type="text" id="emailAddress"/>
	<label for="password">Password : </label>
	<input type="text" id="password"/>
	<span id="login">login</span>
	<span id="singup">singup</span>
	<span id="secure">secure</span>
	<label for="activation">Activation : </label>
	<input type="text" id="activation"/>
	<span id="activate">activate</span>

    <script>
    
    	$("#login").click(function(){
    		$.ajax({
    			type: "POST",
    			url: "/login",
    			data: JSON.stringify({
    					emailAddress: $("#emailAddress").val(),
    					password: $("#password").val(),
    				  }),
    			success: function( data ) {
    				alert(data.authToken);
    			},
    			contentType:"application/json",
    			dataType:"json"
    		});
    	});
    	
    	$("#singup").click(function(){
    		$.ajax({
    			type: "POST",
    			url: "/singup",
    			data: JSON.stringify({
    					emailAddress: $("#emailAddress").val(),
    					password: $("#password").val(),
    				  }),
    			contentType:"application/json",
    			dataType:"json"
    		});
    	});
    	
    	$("#secure").click(function(){
    		$.ajax({
    			type: "GET",
    			url: "/secure",
    			headers: {'X-AUTH-TOKEN' : $.cookie("authToken")},
    			success: function( data ) {
    				alert(data.username);
    			}
    		});
    	});
    	
    	$("#activate").click(function(){
    		$.ajax({
    			type: "GET",
    			url: "/activate/" + $("#activation").val(),
    			success: function( data ) {
    				alert(data.status);
    			}
    		});
    	});

    </script>

}
